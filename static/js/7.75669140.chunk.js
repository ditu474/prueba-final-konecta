(this["webpackJsonpprueba-final-konecta"]=this["webpackJsonpprueba-final-konecta"]||[]).push([[7],{139:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(171),a=n(140),c=n.n(a),s=n(141),o=n(21),i=n(0),u=n.n(i),l="SEND",d="SUCCESS",h="ERROR",b=function(e,t){var n=e;switch(t.type){case l:return n={response:null,error:null,loading:!0};case d:return n={response:t.responseData,error:null,loading:!1};case h:return n={response:null,error:t.errorMessage,loading:!1};case"RESET":return n={response:null,error:null,loading:!1};default:return n}};function f(e){var t=u.a.useReducer(b,{response:null,loading:!1,error:null}),n=Object(o.a)(t,2),a=n[0],i=n[1],f=u.a.useRef(!0);u.a.useEffect((function(){return function(){f.current=!1}}),[]);var j=u.a.useCallback(function(){var t=Object(s.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i({type:l}),t.prev=1,t.next=4,e(n);case 4:r=t.sent,f.current&&i({type:d,responseData:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),i({type:h,errorMessage:t.t0.message||"Something went wrong!"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(r.a)(Object(r.a)({},a),{},{sendRequest:j})}},142:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u}));var r=n(140),a=n.n(r),c=n(141),s="https://www.breakingbadapi.com/api",o=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,r=t.offset,c="".concat(s,"/characters?limit=").concat(n,"&offset=").concat(r),e.abrupt("return",fetch(c).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching Breaking Bad characters")})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.author,r=n.trim().replace(" ","+"),c="".concat(s,"/quote?author=").concat(r),e.abrupt("return",fetch(c).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching quotes for ".concat(n))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.quoteId,r="".concat(s,"/quotes/").concat(n),e.abrupt("return",fetch(r).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching quote with ID: ".concat(n))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},148:function(e,t,n){"use strict";var r=n(21),a=n(268),c=n(261),s=n(0),o=n.n(s),i=n(2);t.a=function(e){var t=e.children,n=e.elements,s=o.a.useState(null),u=Object(r.a)(s,2),l=u[0],d=u[1],h=function(){d(null)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{onClick:function(e){d(e.currentTarget)},children:t}),Object(i.jsx)(a.a,{anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:h,children:n.map((function(e){return Object(i.jsx)(c.a,{onClick:(t=e.action,function(){t(),h()}),children:e.name},e.name);var t}))})]})}},261:function(e,t,n){"use strict";var r=n(3),a=n(24),c=n(1),s=n(0),o=(n(5),n(4)),i=n(7),u=n(291),l=s.forwardRef((function(e,t){var n,a=e.classes,i=e.className,l=e.component,d=void 0===l?"li":l,h=e.disableGutters,b=void 0!==h&&h,f=e.ListItemClasses,j=e.role,p=void 0===j?"menuitem":j,m=e.selected,g=e.tabIndex,O=Object(r.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==g?g:-1),s.createElement(u.a,Object(c.a)({button:!0,role:p,tabIndex:n,component:d,selected:m,disableGutters:b,classes:Object(c.a)({dense:a.dense},f),className:Object(o.a)(a.root,i,m&&a.selected,!b&&a.gutters),ref:t},O))}));t.a=Object(i.a)((function(e){return{root:Object(c.a)({},e.typography.body1,Object(a.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(c.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(l)},267:function(e,t,n){e.exports={actions:"Characters_actions__1jdDs",list:"Characters_list__2-mgb"}},269:function(e,t,n){"use strict";n.r(t);var r=n(123),a=n(0),c=n.n(a),s=n(60),o=Object(s.a)(a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack"),i=Object(s.a)(a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),u=n(58),l=n(21),d=n(139),h=n(38),b=n(6),f=function(e,t){var n=c.a.useState(null),r=Object(l.a)(n,2),a=r[0],s=r[1],o=Object(d.a)(e),i=o.response,u=o.loading,f=o.error,j=o.sendRequest,p=Object(h.b)().enqueueSnackbar,m=Object(b.g)(),g=Object(b.h)();c.a.useEffect((function(){var e=+new URLSearchParams(g.search).get("page");e&&e>0?s(e):m.push({search:"?page=1"})}),[m,g.search]),c.a.useEffect((function(){a&&a>0&&j({limit:t,offset:(a-1)*t})}),[a,t,j]),c.a.useEffect((function(){f&&p("Error al solicitar los personajes",{variant:"error"})}),[f,p]),c.a.useEffect((function(){i&&0===i.length&&m.push({search:"?page=1"})}),[i,m]);return{currentPage:a,goToNextPage:function(){var e=a+1;m.push({search:"?page=".concat(e)})},goToPrevPage:function(){var e=a-1;m.push({search:"?page=".concat(e)})},filteredItems:i||[],loading:u}},j=n(142),p=n(292),m=n(293),g=n(95),O=n(289),x=n(291),v=n(305),w=Object(s.a)(a.createElement("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorderOutlined"),k=Object(s.a)(a.createElement("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Message"),E=Object(s.a)(a.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),y=n(148),q=n(50),N=n(2),C=function(e){var t=e.quote,n=c.a.useContext(q.a),a=n.bookstores,s=n.addQuote,o=Object(b.g)();return Object(N.jsxs)(x.a,{divider:!0,className:"center-column-childs",style:{alignItems:"start"},children:[Object(N.jsx)(v.a,{primary:t.quote}),Object(N.jsxs)("div",{children:[Object(N.jsx)(r.a,{"aria-label":"Rate",onClick:function(){o.push("/quote/".concat(t.quote_id,"/rate"))},children:Object(N.jsx)(w,{})}),Object(N.jsx)(r.a,{"aria-label":"Comment",onClick:function(){o.push("/quote/".concat(t.quote_id,"/comments"))},children:Object(N.jsx)(k,{})}),Object(N.jsx)(y.a,{elements:function(e,t){var n=[];return e.forEach((function(e){n.push({name:"A\xf1adir a ".concat(e.name),action:function(){return s({id:t.quote_id,quote:t.quote},e.id)}})})),0===n.length&&n.push({name:"Crear librer\xeda",action:function(){o.push("bookstores")}}),n}(a,t),children:Object(N.jsx)(r.a,{"aria-label":"Options",children:Object(N.jsx)(E,{})})})]})]})},S=function(e){var t,n=e.characterName,r=Object(d.a)(j.a),a=r.response,s=r.loading,o=r.error,i=r.sendRequest;return c.a.useEffect((function(){i({author:n})}),[n,i]),t=s?Object(N.jsx)(u.a,{}):a&&0!==a.length?o?Object(N.jsx)("h3",{children:"Ocurri\xf3 un error buscando las frases"}):a.map((function(e){return Object(N.jsx)(C,{quote:e},e.quote_id)})):Object(N.jsx)("h3",{children:"No se encontraron frases para este personaje"}),Object(N.jsx)(O.a,{style:{maxWidth:"350px",width:"100%"},children:t})},z=Object(g.a)((function(e){return{character:{listStyle:"none",margin:e.spacing(2,0),padding:e.spacing(2)},card:{width:250},media:{height:300,width:"100%",objectFit:"cover",overflow:"hidden"},title:{margin:e.spacing(0,0,2,0)},content:{maxHeight:300,overflow:"scroll"}}})),L=function(e){var t=e.character,n=z();return Object(N.jsx)("li",{className:n.character,children:Object(N.jsxs)(p.a,{className:n.card,children:[Object(N.jsx)("img",{src:t.img,alt:t.name,className:n.media}),Object(N.jsxs)(m.a,{className:n.content,children:[Object(N.jsx)("h4",{className:n.title,children:t.name}),Object(N.jsx)(S,{characterName:t.name})]})]})})},M=n(267),H=n.n(M);t.default=function(){var e=f(j.b,"5"),t=e.currentPage,n=e.goToNextPage,a=e.goToPrevPage,c=e.filteredItems;return e.loading?Object(N.jsx)(u.a,{}):1===t&&0===c.length?Object(N.jsx)("h4",{children:"No hay personajes para mostrar, posiblemente no tienes conexi\xf3n a internet"}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("ul",{className:H.a.list,children:c.map((function(e){return Object(N.jsx)(L,{character:e},e.char_id)}))}),Object(N.jsxs)("div",{className:H.a.actions,children:[Object(N.jsx)(r.a,{"aria-label":"Previous page",onClick:a,disabled:t<2,color:"secondary",children:Object(N.jsx)(o,{})}),Object(N.jsx)("span",{"arial-label":"Page number",children:t}),Object(N.jsx)(r.a,{"aria-label":"Next page",onClick:n,disabled:c.length<"5",color:"secondary",children:Object(N.jsx)(i,{})})]})]})}}}]);
//# sourceMappingURL=7.75669140.chunk.js.map