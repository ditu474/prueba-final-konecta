(this["webpackJsonpprueba-final-konecta"]=this["webpackJsonpprueba-final-konecta"]||[]).push([[7],{136:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r(152),a=r(138),c=r.n(a),o=r(139),s=r(21),i=r(0),u=r.n(i),l="SEND",d="SUCCESS",f="ERROR",h=function(e,t){var r=e;switch(t.type){case l:return r={response:null,error:null,loading:!0};case d:return r={response:t.responseData,error:null,loading:!1};case f:return r={response:null,error:t.errorMessage,loading:!1};case"RESET":return r={response:null,error:null,loading:!1};default:return r}};function j(e){var t=u.a.useReducer(h,{response:null,loading:!1,error:null}),r=Object(s.a)(t,2),a=r[0],i=r[1],j=u.a.useRef(!0);u.a.useEffect((function(){return function(){j.current=!1}}),[]);var b=u.a.useCallback(function(){var t=Object(o.a)(c.a.mark((function t(r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i({type:l}),t.prev=1,t.next=4,e(r);case 4:n=t.sent,j.current&&i({type:d,responseData:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),i({type:f,errorMessage:t.t0.message||"Something went wrong!"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(n.a)(Object(n.a)({},a),{},{sendRequest:b})}},137:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return l}));var n=r(138),a=r.n(n),c=r(139),o="https://www.breakingbadapi.com/api",s=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(o,"/characters"),e.abrupt("return",fetch(t).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching Breaking Bad characters")})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.limit,n=t.offset,c="".concat(o,"/characters?limit=").concat(r,"&offset=").concat(n),e.abrupt("return",fetch(c).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching Breaking Bad characters")})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.author,n=r.trim().replace(" ","+"),c="".concat(o,"/quote?author=").concat(n),e.abrupt("return",fetch(c).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching quotes for ".concat(r))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.quoteId,n="".concat(o,"/quotes/").concat(r),e.abrupt("return",fetch(n).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching quote with ID: ".concat(r))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},141:function(e,t,r){"use strict";var n=r(21),a=r(288),c=r(183),o=r(0),s=r.n(o),i=r(2);t.a=function(e){var t=e.children,r=e.elements,o=s.a.useState(null),u=Object(n.a)(o,2),l=u[0],d=u[1],f=function(){d(null)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{onClick:function(e){d(e.currentTarget)},children:t}),Object(i.jsx)(a.a,{anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:f,children:r.map((function(e){return Object(i.jsx)(c.a,{onClick:(t=e.action,function(){t(),f()}),children:e.name},e.name);var t}))})]})}},146:function(e,t,r){"use strict";var n=r(157),a=r(44);function c(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"===typeof e?o(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=a({arrayFormat:"none"},t)),n=Object.create(null);return"string"!==typeof e?n:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),c=t.length>0?t.join("="):void 0;c=void 0===c?null:decodeURIComponent(c),r(decodeURIComponent(a),c,n)})),Object.keys(n).sort().reduce((function(e,t){var r=n[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=o(r):e[t]=r,e}),Object.create(null))):n},t.stringify=function(e,t){var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,n){return null===r?[c(t,e),"[",n,"]"].join(""):[c(t,e),"[",c(n,e),"]=",c(r,e)].join("")};case"bracket":return function(t,r){return null===r?c(t,e):[c(t,e),"[]=",c(r,e)].join("")};default:return function(t,r){return null===r?c(t,e):[c(t,e),"=",c(r,e)].join("")}}}(t=a({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(n){var a=e[n];if(void 0===a)return"";if(null===a)return c(n,t);if(Array.isArray(a)){var o=[];return a.slice().forEach((function(e){void 0!==e&&o.push(r(n,e,o.length))})),o.join("&")}return c(n,t)+"="+c(a,t)})).filter((function(e){return e.length>0})).join("&"):""}},153:function(e,t,r){e.exports={header:"CharacterInformation_header__3Vnih"}},154:function(e,t,r){"use strict";var n=r(123),a=r(283),c=r(284),o=r(155),s=r.n(o),i=r(2);t.a=function(e){var t=e.children,r=e.onBackPage,o=e.onNextPage,u=e.currentPage,l=e.nextPageDisable;return Object(i.jsxs)(i.Fragment,{children:[t,Object(i.jsxs)("div",{className:s.a.actions,children:[Object(i.jsx)(n.a,{"aria-label":"Previous page",onClick:r,disabled:u<2,color:"secondary",children:Object(i.jsx)(a.a,{})}),Object(i.jsx)("span",{"arial-label":"Page number",children:u}),Object(i.jsx)(n.a,{"aria-label":"Next page",onClick:o,disabled:l,color:"secondary",children:Object(i.jsx)(c.a,{})})]})]})}},155:function(e,t,r){e.exports={actions:"Paginator_actions__11mOl"}},156:function(e,t,r){"use strict";var n=r(21),a=r(146),c=r.n(a),o=r(0),s=r.n(o),i=r(6);t.a=function(){var e=s.a.useState(null),t=Object(n.a)(e,2),r=t[0],a=t[1],o=Object(i.h)(),u=Object(i.g)(),l=s.a.useCallback((function(e){var t=c.a.parse(o.search);t.page=e,u.push({search:c.a.stringify(t)})}),[o.search,u]);s.a.useEffect((function(){var e=c.a.parse(o.search).page;if(e){var t=Number(e);if(t&&t>0)return void a(t)}l(1)}),[l,o.search]);return{currentPage:r,goToNextPage:function(){l(r+1)},goToPrevPage:function(){l(r-1)},goToPage:l}}},157:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},159:function(e,t,r){"use strict";var n=r(271),a=r(272),c=r(95),o=r(311),s=r(270),i=r(323),u=r(317),l=r(50),d=r(136),f=r(0),h=r.n(f),j=r(137),b=r(123),p=r(280),m=r(281),g=r(282),O=r(141),v=r(51),x=r(6),y=r(2),w=function(e){var t=e.quote,r=h.a.useContext(v.a),n=r.bookstores,a=r.addQuote,c=Object(x.g)();return Object(y.jsxs)(s.a,{divider:!0,className:"center-column-childs",style:{alignItems:"start"},children:[Object(y.jsx)(i.a,{primary:t.quote}),Object(y.jsxs)("div",{children:[Object(y.jsx)(b.a,{"aria-label":"Rate",onClick:function(){c.push("/quote/".concat(t.quote_id,"/rate"))},children:Object(y.jsx)(p.a,{})}),Object(y.jsx)(b.a,{"aria-label":"Comment",onClick:function(){c.push("/quote/".concat(t.quote_id,"/comments"))},children:Object(y.jsx)(m.a,{})}),Object(y.jsx)(O.a,{elements:function(e,t){var r=[];return e.forEach((function(e){r.push({name:"A\xf1adir a ".concat(e.name),action:function(){return a({id:t.quote_id,quote:t.quote},e.id)}})})),0===r.length&&r.push({name:"Crear librer\xeda",action:function(){c.push("bookstores")}}),r}(n,t),children:Object(y.jsx)(b.a,{"aria-label":"Options",children:Object(y.jsx)(g.a,{})})})]})]})},k=function(e){var t,r=e.characterName,n=Object(d.a)(j.a),a=n.response,c=n.loading,s=n.error,i=n.sendRequest;return h.a.useEffect((function(){i({author:r})}),[r,i]),t=c?Object(y.jsx)(l.a,{}):a&&0!==a.length?s?Object(y.jsx)("h3",{children:"Ocurri\xf3 un error buscando las frases"}):a.map((function(e){return Object(y.jsx)(w,{quote:e},e.quote_id)})):Object(y.jsx)("h3",{children:"No se encontraron frases para este personaje"}),Object(y.jsx)(o.a,{style:{maxWidth:"350px",width:"100%"},children:t})},E=r(153),P=r.n(E),N=function(e){var t=e.character;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{children:t.name}),Object(y.jsxs)("h5",{children:["Fecha Nacimiento: ",Object(y.jsx)("span",{children:t.birthday})]}),Object(y.jsxs)("h5",{children:["Estado: ",Object(y.jsx)("span",{children:t.status})]}),Object(y.jsxs)("h5",{children:["Apodo: ",Object(y.jsx)("span",{children:t.nickname})]}),Object(y.jsxs)("h5",{children:["Protagonista: ",Object(y.jsx)("span",{children:t.portrayed})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{className:P.a.header,children:"Ocupaciones: "}),Object(y.jsx)(o.a,{children:t.occupation.map((function(e){return Object(y.jsxs)("div",{children:[Object(y.jsx)(s.a,{children:Object(y.jsx)(i.a,{primary:e})}),Object(y.jsx)(u.a,{})]},e)}))})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{className:P.a.header,children:"Frases: "}),Object(y.jsx)(k,{characterName:t.name})]})]})},C=Object(c.a)((function(e){return{character:{listStyle:"none",margin:e.spacing(2,0),padding:e.spacing(2)},card:{width:250},media:{height:300,width:"100%",objectFit:"cover",overflow:"hidden"},content:{maxHeight:300,overflow:"scroll"}}})),q=function(e){var t=e.character,r=C();return Object(y.jsx)("li",{className:r.character,children:Object(y.jsxs)(n.a,{className:r.card,children:[Object(y.jsx)("img",{src:t.img,alt:t.name,className:r.media}),Object(y.jsx)(a.a,{className:r.content,children:Object(y.jsx)(N,{character:t})})]})})};t.a=function(e){var t=e.characters;return Object(y.jsx)("ul",{className:"list",children:t.map((function(e){return Object(y.jsx)(q,{character:e},e.char_id)}))})}},183:function(e,t,r){"use strict";var n=r(3),a=r(24),c=r(1),o=r(0),s=(r(5),r(4)),i=r(7),u=r(270),l=o.forwardRef((function(e,t){var r,a=e.classes,i=e.className,l=e.component,d=void 0===l?"li":l,f=e.disableGutters,h=void 0!==f&&f,j=e.ListItemClasses,b=e.role,p=void 0===b?"menuitem":b,m=e.selected,g=e.tabIndex,O=Object(n.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(r=void 0!==g?g:-1),o.createElement(u.a,Object(c.a)({button:!0,role:p,tabIndex:r,component:d,selected:m,disableGutters:h,classes:Object(c.a)({dense:a.dense},j),className:Object(s.a)(a.root,i,m&&a.selected,!h&&a.gutters),ref:t},O))}));t.a=Object(i.a)((function(e){return{root:Object(c.a)({},e.typography.body1,Object(a.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(c.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(l)},280:function(e,t,r){"use strict";var n=r(0),a=r(60);t.a=Object(a.a)(n.createElement("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorderOutlined")},281:function(e,t,r){"use strict";var n=r(0),a=r(60);t.a=Object(a.a)(n.createElement("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Message")},282:function(e,t,r){"use strict";var n=r(0),a=r(60);t.a=Object(a.a)(n.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz")},283:function(e,t,r){"use strict";var n=r(0),a=r(60);t.a=Object(a.a)(n.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack")},284:function(e,t,r){"use strict";var n=r(0),a=r(60);t.a=Object(a.a)(n.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward")},290:function(e,t,r){"use strict";r.r(t);var n=r(159),a=r(50),c=r(154),o=r(136),s=r(156),i=r(37),u=r(0),l=r.n(u),d=function(e,t){var r=Object(o.a)(e),n=r.response,a=r.loading,c=r.error,u=r.sendRequest,d=Object(s.a)(),f=d.currentPage,h=d.goToNextPage,j=d.goToPrevPage,b=d.goToPage,p=Object(i.b)().enqueueSnackbar;return l.a.useEffect((function(){f&&f>0&&u({limit:t,offset:(f-1)*t})}),[f,t,u]),l.a.useEffect((function(){c&&p("Error al solicitar los personajes",{variant:"error"})}),[c,p]),l.a.useEffect((function(){n&&0===n.length&&b(1)}),[b,n]),{currentPage:f,goToNextPage:h,goToPrevPage:j,filteredItems:n||[],loading:a}},f=r(137),h=r(2);t.default=function(){var e=d(f.c,5),t=e.currentPage,r=e.goToNextPage,o=e.goToPrevPage,s=e.filteredItems;return e.loading?Object(h.jsx)(a.a,{}):1===t&&0===s.length?Object(h.jsx)("h4",{children:"No hay personajes para mostrar, posiblemente no tienes conexi\xf3n a internet"}):Object(h.jsx)(c.a,{onBackPage:o,onNextPage:r,currentPage:t||1,nextPageDisable:s.length<5,children:Object(h.jsx)(n.a,{characters:s})})}}}]);
//# sourceMappingURL=7.06ce6f8e.chunk.js.map