(this["webpackJsonpprueba-final-konecta"]=this["webpackJsonpprueba-final-konecta"]||[]).push([[10],{136:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(152),a=r(138),c=r.n(a),s=r(139),o=r(21),i=r(0),u=r.n(i),l="SEND",h="SUCCESS",j="ERROR",f=function(e,t){var r=e;switch(t.type){case l:return r={response:null,error:null,loading:!0};case h:return r={response:t.responseData,error:null,loading:!1};case j:return r={response:null,error:t.errorMessage,loading:!1};case"RESET":return r={response:null,error:null,loading:!1};default:return r}};function d(e){var t=u.a.useReducer(f,{response:null,loading:!1,error:null}),r=Object(o.a)(t,2),a=r[0],i=r[1],d=u.a.useRef(!0);u.a.useEffect((function(){return function(){d.current=!1}}),[]);var b=u.a.useCallback(function(){var t=Object(s.a)(c.a.mark((function t(r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i({type:l}),t.prev=1,t.next=4,e(r);case 4:n=t.sent,d.current&&i({type:h,responseData:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),i({type:j,errorMessage:t.t0.message||"Something went wrong!"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(n.a)(Object(n.a)({},a),{},{sendRequest:b})}},137:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return l}));var n=r(138),a=r.n(n),c=r(139),s="https://www.breakingbadapi.com/api",o=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(s,"/characters"),e.abrupt("return",fetch(t).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching Breaking Bad characters")})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.limit,n=t.offset,c="".concat(s,"/characters?limit=").concat(r,"&offset=").concat(n),e.abrupt("return",fetch(c).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching Breaking Bad characters")})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.author,n=r.trim().replace(" ","+"),c="".concat(s,"/quote?author=").concat(n),e.abrupt("return",fetch(c).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching quotes for ".concat(r))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.quoteId,n="".concat(s,"/quotes/").concat(r),e.abrupt("return",fetch(n).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching quote with ID: ".concat(r))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},141:function(e,t,r){"use strict";var n=r(21),a=r(288),c=r(183),s=r(0),o=r.n(s),i=r(2);t.a=function(e){var t=e.children,r=e.elements,s=o.a.useState(null),u=Object(n.a)(s,2),l=u[0],h=u[1],j=function(){h(null)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{onClick:function(e){h(e.currentTarget)},children:t}),Object(i.jsx)(a.a,{anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:j,children:r.map((function(e){return Object(i.jsx)(c.a,{onClick:(t=e.action,function(){t(),j()}),children:e.name},e.name);var t}))})]})}},153:function(e,t,r){e.exports={header:"CharacterInformation_header__3Vnih"}},154:function(e,t,r){"use strict";var n=r(123),a=r(283),c=r(284),s=r(155),o=r.n(s),i=r(2);t.a=function(e){var t=e.children,r=e.onBackPage,s=e.onNextPage,u=e.currentPage,l=e.nextPageDisable;return Object(i.jsxs)(i.Fragment,{children:[t,Object(i.jsxs)("div",{className:o.a.actions,children:[Object(i.jsx)(n.a,{"aria-label":"Previous page",onClick:r,disabled:u<2,color:"secondary",children:Object(i.jsx)(a.a,{})}),Object(i.jsx)("span",{"arial-label":"Page number",children:u}),Object(i.jsx)(n.a,{"aria-label":"Next page",onClick:s,disabled:l,color:"secondary",children:Object(i.jsx)(c.a,{})})]})]})}},155:function(e,t,r){e.exports={actions:"Paginator_actions__11mOl"}},156:function(e,t,r){"use strict";var n=r(21),a=r(146),c=r.n(a),s=r(0),o=r.n(s),i=r(6);t.a=function(){var e=o.a.useState(null),t=Object(n.a)(e,2),r=t[0],a=t[1],s=Object(i.h)(),u=Object(i.g)(),l=o.a.useCallback((function(e){var t=c.a.parse(s.search);t.page=e,u.push({search:c.a.stringify(t)})}),[s.search,u]);o.a.useEffect((function(){var e=c.a.parse(s.search).page;if(e){var t=Number(e);if(t&&t>0)return void a(t)}l(1)}),[l,s.search]);return{currentPage:r,goToNextPage:function(){l(r+1)},goToPrevPage:function(){l(r-1)},goToPage:l}}},159:function(e,t,r){"use strict";var n=r(271),a=r(272),c=r(95),s=r(311),o=r(270),i=r(323),u=r(317),l=r(50),h=r(136),j=r(0),f=r.n(j),d=r(137),b=r(123),p=r(280),O=r(281),x=r(282),g=r(141),m=r(51),v=r(6),w=r(2),k=function(e){var t=e.quote,r=f.a.useContext(m.a),n=r.bookstores,a=r.addQuote,c=Object(v.g)();return Object(w.jsxs)(o.a,{divider:!0,className:"center-column-childs",style:{alignItems:"start"},children:[Object(w.jsx)(i.a,{primary:t.quote}),Object(w.jsxs)("div",{children:[Object(w.jsx)(b.a,{"aria-label":"Rate",onClick:function(){c.push("/quote/".concat(t.quote_id,"/rate"))},children:Object(w.jsx)(p.a,{})}),Object(w.jsx)(b.a,{"aria-label":"Comment",onClick:function(){c.push("/quote/".concat(t.quote_id,"/comments"))},children:Object(w.jsx)(O.a,{})}),Object(w.jsx)(g.a,{elements:function(e,t){var r=[];return e.forEach((function(e){r.push({name:"A\xf1adir a ".concat(e.name),action:function(){return a({id:t.quote_id,quote:t.quote},e.id)}})})),0===r.length&&r.push({name:"Crear librer\xeda",action:function(){c.push("bookstores")}}),r}(n,t),children:Object(w.jsx)(b.a,{"aria-label":"Options",children:Object(w.jsx)(x.a,{})})})]})]})},P=function(e){var t,r=e.characterName,n=Object(h.a)(d.a),a=n.response,c=n.loading,o=n.error,i=n.sendRequest;return f.a.useEffect((function(){i({author:r})}),[r,i]),t=c?Object(w.jsx)(l.a,{}):a&&0!==a.length?o?Object(w.jsx)("h3",{children:"Ocurri\xf3 un error buscando las frases"}):a.map((function(e){return Object(w.jsx)(k,{quote:e},e.quote_id)})):Object(w.jsx)("h3",{children:"No se encontraron frases para este personaje"}),Object(w.jsx)(s.a,{style:{maxWidth:"350px",width:"100%"},children:t})},y=r(153),N=r.n(y),E=function(e){var t=e.character;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:t.name}),Object(w.jsxs)("h5",{children:["Fecha Nacimiento: ",Object(w.jsx)("span",{children:t.birthday})]}),Object(w.jsxs)("h5",{children:["Estado: ",Object(w.jsx)("span",{children:t.status})]}),Object(w.jsxs)("h5",{children:["Apodo: ",Object(w.jsx)("span",{children:t.nickname})]}),Object(w.jsxs)("h5",{children:["Protagonista: ",Object(w.jsx)("span",{children:t.portrayed})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h5",{className:N.a.header,children:"Ocupaciones: "}),Object(w.jsx)(s.a,{children:t.occupation.map((function(e){return Object(w.jsxs)("div",{children:[Object(w.jsx)(o.a,{children:Object(w.jsx)(i.a,{primary:e})}),Object(w.jsx)(u.a,{})]},e)}))})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h5",{className:N.a.header,children:"Frases: "}),Object(w.jsx)(P,{characterName:t.name})]})]})},q=Object(c.a)((function(e){return{character:{listStyle:"none",margin:e.spacing(2,0),padding:e.spacing(2)},card:{width:250},media:{height:300,width:"100%",objectFit:"cover",overflow:"hidden"},content:{maxHeight:300,overflow:"scroll"}}})),C=function(e){var t=e.character,r=q();return Object(w.jsx)("li",{className:r.character,children:Object(w.jsxs)(n.a,{className:r.card,children:[Object(w.jsx)("img",{src:t.img,alt:t.name,className:r.media}),Object(w.jsx)(a.a,{className:r.content,children:Object(w.jsx)(E,{character:t})})]})})};t.a=function(e){var t=e.characters;return Object(w.jsx)("ul",{className:"list",children:t.map((function(e){return Object(w.jsx)(C,{character:e},e.char_id)}))})}},289:function(e,t,r){"use strict";r.r(t);var n=r(21),a=r(151),c=r(159),s=r(50),o=r(154),i=r(136),u=r(156),l=function(e,t){var r=Object(u.a)(),n=r.currentPage;return{currentPage:n,goToNextPage:r.goToNextPage,goToPrevPage:r.goToPrevPage,listFiltered:e.slice((n-1)*t,n*t),nextPageExists:n*t>=e.length}},h=r(146),j=r.n(h),f=r(0),d=r.n(f),b=r(6),p=r(137),O=r(285),x=r(15),g=r(286),m=function(e,t,r){return e.filter((function(e){return e[t].toLowerCase().includes(r.toLowerCase())}))},v=function(e,t){var r=Object(x.a)(e),n=t.name;n&&(r=m(r,"name",n));var a=t.birthday;a&&(r=r.filter((function(e){var t=new Date(e.birthday);if(!t)return!1;var r=g.DateTime.fromJSDate(t),n=g.DateTime.fromISO(a);return r.equals(n)})));var c=t.occupation;c&&(r=r.filter((function(e){var t,r=Object(O.a)(e.occupation);try{for(r.s();!(t=r.n()).done;){if(t.value.toLowerCase().includes(c.toLowerCase()))return!0}}catch(n){r.e(n)}finally{r.f()}return!1})));var s=t.status;s&&(r=m(r,"status",s));var o=t.nickname;o&&(r=m(r,"nickname",o));var i=t.portrayed;return i&&(r=m(r,"portrayed",i)),r},w=r(2);t.default=function(){var e=d.a.useState([]),t=Object(n.a)(e,2),r=t[0],u=t[1],h=Object(i.a)(p.b),f=h.response,O=h.loading,x=h.sendRequest,g=l(r,5),m=g.listFiltered,k=g.goToNextPage,P=g.currentPage,y=g.goToPrevPage,N=g.nextPageExists,E=Object(b.g)(),q=Object(b.j)().path,C=Object(b.h)();d.a.useEffect((function(){x()}),[]),d.a.useEffect((function(){if(f&&f.length>0){var e=j.a.parse(C.search);u(v(f,e))}}),[C.search,f]);var T,S=function(e){return function(){window.scroll({top:document.body,left:0,behavior:"smooth"}),"next"===e&&k(),"back"===e&&y()}};return O&&(T=Object(w.jsx)(s.a,{})),T=m&&m.length>0?Object(w.jsx)(o.a,{onBackPage:S("back"),onNextPage:S("next"),currentPage:P||1,nextPageDisable:N,children:Object(w.jsx)(c.a,{characters:m})}):Object(w.jsx)("h3",{children:"No se han encontrado resultados"}),Object(w.jsxs)("div",{style:{margin:"1rem 0"},className:"center-column-childs",children:[Object(w.jsx)(a.a,{variant:"contained",color:"primary",onClick:function(){E.push({pathname:"".concat(q,"/characters")})},children:"Limpiar busqueda"}),T]})}}}]);
//# sourceMappingURL=10.aed27dd2.chunk.js.map