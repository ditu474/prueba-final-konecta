(this["webpackJsonpprueba-final-konecta"]=this["webpackJsonpprueba-final-konecta"]||[]).push([[6],{143:function(e,n,t){"use strict";var r=t(21),a=t(260),c=t(284),s=t(0),o=t.n(s),i=t(2);n.a=function(e){var n=e.children,t=e.elements,s=o.a.useState(null),u=Object(r.a)(s,2),l=u[0],j=u[1],f=function(){j(null)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{onClick:function(e){j(e.currentTarget)},children:n}),Object(i.jsx)(a.a,{anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:f,children:t.map((function(e){return Object(i.jsx)(c.a,{onClick:(n=e.action,function(){n(),f()}),children:e.name},e.name);var n}))})]})}},258:function(e,n,t){e.exports={actions:"Characters_actions__1jdDs",list:"Characters_list__2-mgb"}},261:function(e,n,t){"use strict";t.r(n);var r=t(122),a=t(298),c=t(299),s=t(59),o=t(21),i=t(256),u=t(165),l=t.n(u),j=t(166),f=t(0),d=t.n(f),h="SEND",b="SUCCESS",p="ERROR",m=function(e,n){var t=e;switch(n.type){case h:return t={response:null,error:null,loading:!0};case b:return t={response:n.responseData,error:null,loading:!1};case p:return t={response:null,error:n.errorMessage,loading:!1};case"RESET":return t={response:null,error:null,loading:!1};default:return t}};function x(e){var n=d.a.useReducer(m,{response:null,loading:!1,error:null}),t=Object(o.a)(n,2),r=t[0],a=t[1],c=d.a.useRef(!0);d.a.useEffect((function(){return function(){c.current=!1}}),[]);var s=d.a.useCallback(function(){var n=Object(j.a)(l.a.mark((function n(t){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:h}),n.prev=1,n.next=4,e(t);case 4:r=n.sent,c.current&&a({type:b,responseData:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),a({type:p,errorMessage:n.t0.message||"Something went wrong!"});case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}(),[e]);return Object(i.a)(Object(i.a)({},r),{},{sendRequest:s})}var g=t(38),O=function(e,n){var t=d.a.useState(1),r=Object(o.a)(t,2),a=r[0],c=r[1],s=x(e),i=s.response,u=s.loading,l=s.error,j=s.sendRequest,f=Object(g.b)().enqueueSnackbar;d.a.useEffect((function(){j({limit:n,offset:(a-1)*n})}),[a,n,j]),d.a.useEffect((function(){l&&f("Error al solicitar los personajes",{variant:"error"})}),[l,f]);return{currentPage:a,goToNextPage:function(){c((function(e){return e+1}))},goToPrevPage:function(){c((function(e){return e-1}))},filteredItems:i||[],loading:u}},v="https://www.breakingbadapi.com/api",w=function(){var e=Object(j.a)(l.a.mark((function e(n){var t,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.limit,r=n.offset,a="".concat(v,"/characters?limit=").concat(t,"&offset=").concat(r),e.abrupt("return",fetch(a).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching Breaking Bad characters")})));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(l.a.mark((function e(n){var t,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.author,r=t.trim().replace(" ","+"),a="".concat(v,"/quote?author=").concat(r),e.abrupt("return",fetch(a).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching quotes for ".concat(t))})));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=t(286),E=t(287),N=t(94),C=t(282),q=t(285),P=t(303),R=t(295),S=t(296),_=t(297),D=t(143),T=t(50),B=t(2),F=function(e){var n=e.quote,t=d.a.useContext(T.a),a=t.bookstores,c=t.addQuote,s=d.a.useCallback((function(e,n){var t=[{name:"Detalles",action:function(){}}];return e.forEach((function(e){t.push({name:"A\xf1adir a ".concat(e.name),action:function(){return c({id:n.quote_id,quote:n.quote},e.id)}})})),t}),[c]);return Object(B.jsxs)(q.a,{divider:!0,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start"},children:[Object(B.jsx)(P.a,{primary:n.quote}),Object(B.jsxs)("div",{children:[Object(B.jsx)(r.a,{"aria-label":"Rate",children:Object(B.jsx)(R.a,{})}),Object(B.jsx)(r.a,{"aria-label":"Comment",children:Object(B.jsx)(S.a,{})}),Object(B.jsx)(D.a,{elements:s(a,n),children:Object(B.jsx)(r.a,{"aria-label":"Options",children:Object(B.jsx)(_.a,{})})})]})]})},I=function(e){var n,t=e.characterName,r=x(k),a=r.response,c=r.loading,o=r.error,i=r.sendRequest;return d.a.useEffect((function(){i({author:t})}),[t,i]),n=c?Object(B.jsx)(s.a,{}):a&&0!==a.length?o?Object(B.jsx)("h3",{children:"Ocurri\xf3 un error buscando las frases"}):a.map((function(e){return Object(B.jsx)(F,{quote:e},e.quote_id)})):Object(B.jsx)("h3",{children:"No se encontraron frases para este personaje"}),Object(B.jsx)(C.a,{style:{maxWidth:"350px",width:"100%"},children:n})},M=Object(N.a)((function(e){return{character:{listStyle:"none",margin:e.spacing(2,0),padding:e.spacing(2)},card:{width:250},media:{height:300,width:"100%",objectFit:"cover",overflow:"hidden"},title:{margin:e.spacing(0,0,2,0)},content:{maxHeight:300,overflow:"scroll"}}})),J=function(e){var n=e.character,t=M();return Object(B.jsx)("li",{className:t.character,children:Object(B.jsxs)(y.a,{className:t.card,children:[Object(B.jsx)("img",{src:n.img,alt:n.name,className:t.media}),Object(B.jsxs)(E.a,{className:t.content,children:[Object(B.jsx)("h4",{className:t.title,children:n.name}),Object(B.jsx)(I,{characterName:n.name})]})]})})},A=t(258),H=t.n(A);n.default=function(){var e=O(w,"5"),n=e.currentPage,t=e.goToNextPage,o=e.goToPrevPage,i=e.filteredItems;return e.loading?Object(B.jsx)(s.a,{}):1===n&&0===i.length?Object(B.jsx)("h4",{children:"No hay personajes para mostrar, posiblemente no tienes conexi\xf3n a internet"}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("ul",{className:H.a.list,children:i.map((function(e){return Object(B.jsx)(J,{character:e},e.char_id)}))}),Object(B.jsxs)("div",{className:H.a.actions,children:[Object(B.jsx)(r.a,{"aria-label":"Previous page",onClick:o,disabled:n<2,color:"secondary",children:Object(B.jsx)(a.a,{})}),Object(B.jsx)("span",{"arial-label":"Page number",children:n}),Object(B.jsx)(r.a,{"aria-label":"Next page",onClick:t,disabled:i.length<"5",color:"secondary",children:Object(B.jsx)(c.a,{})})]})]})}}}]);
//# sourceMappingURL=6.4219594e.chunk.js.map