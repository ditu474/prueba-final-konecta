(this["webpackJsonpprueba-final-konecta"]=this["webpackJsonpprueba-final-konecta"]||[]).push([[7],{139:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(170),a=r(140),c=r.n(a),o=r(141),s=r(21),i=r(0),u=r.n(i),l="SEND",h="SUCCESS",f="ERROR",j=function(e,t){var r=e;switch(t.type){case l:return r={response:null,error:null,loading:!0};case h:return r={response:t.responseData,error:null,loading:!1};case f:return r={response:null,error:t.errorMessage,loading:!1};case"RESET":return r={response:null,error:null,loading:!1};default:return r}};function d(e){var t=u.a.useReducer(j,{response:null,loading:!1,error:null}),r=Object(s.a)(t,2),a=r[0],i=r[1],d=u.a.useRef(!0);u.a.useEffect((function(){return function(){d.current=!1}}),[]);var p=u.a.useCallback(function(){var t=Object(o.a)(c.a.mark((function t(r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i({type:l}),t.prev=1,t.next=4,e(r);case 4:n=t.sent,d.current&&i({type:h,responseData:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),i({type:f,errorMessage:t.t0.message||"Something went wrong!"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(n.a)(Object(n.a)({},a),{},{sendRequest:p})}},142:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return u}));var n=r(140),a=r.n(n),c=r(141),o="https://www.breakingbadapi.com/api",s=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.limit,n=t.offset,c="".concat(o,"/characters?limit=").concat(r,"&offset=").concat(n),e.abrupt("return",fetch(c).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching Breaking Bad characters")})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.author,n=r.trim().replace(" ","+"),c="".concat(o,"/quote?author=").concat(n),e.abrupt("return",fetch(c).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching quotes for ".concat(r))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.quoteId,n="".concat(o,"/quotes/").concat(r),e.abrupt("return",fetch(n).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching quote with ID: ".concat(r))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},147:function(e,t,r){"use strict";var n=r(21),a=r(271),c=r(293),o=r(0),s=r.n(o),i=r(2);t.a=function(e){var t=e.children,r=e.elements,o=s.a.useState(null),u=Object(n.a)(o,2),l=u[0],h=u[1],f=function(){h(null)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{onClick:function(e){h(e.currentTarget)},children:t}),Object(i.jsx)(a.a,{anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:f,children:r.map((function(e){return Object(i.jsx)(c.a,{onClick:(t=e.action,function(){t(),f()}),children:e.name},e.name);var t}))})]})}},269:function(e,t,r){e.exports={actions:"Characters_actions__1jdDs",list:"Characters_list__2-mgb"}},272:function(e,t,r){"use strict";r.r(t);var n=r(122),a=r(0),c=r.n(a),o=r(59),s=Object(o.a)(a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack"),i=Object(o.a)(a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),u=r(58),l=r(21),h=r(139),f=r(38),j=r(6),d=function(e,t){var r=c.a.useState(null),n=Object(l.a)(r,2),a=n[0],o=n[1],s=Object(h.a)(e),i=s.response,u=s.loading,d=s.error,p=s.sendRequest,b=Object(f.b)().enqueueSnackbar,m=Object(j.g)(),g=Object(j.h)();c.a.useEffect((function(){var e=+new URLSearchParams(g.search).get("page");e&&e>0?o(e):m.push({search:"?page=1"})}),[m,g.search]),c.a.useEffect((function(){a&&a>0&&p({limit:t,offset:(a-1)*t})}),[a,t,p]),c.a.useEffect((function(){d&&b("Error al solicitar los personajes",{variant:"error"})}),[d,b]),c.a.useEffect((function(){i&&0===i.length&&m.push({search:"?page=1"})}),[i,m]);return{currentPage:a,goToNextPage:function(){var e=a+1;m.push({search:"?page=".concat(e)})},goToPrevPage:function(){var e=a-1;m.push({search:"?page=".concat(e)})},filteredItems:i||[],loading:u}},p=r(142),b=r(261),m=r(262),g=r(94),O=r(258),x=r(260),v=r(304),w=Object(o.a)(a.createElement("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorderOutlined"),k=Object(o.a)(a.createElement("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Message"),E=Object(o.a)(a.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),q=r(147),y=r(51),C=r(2),N=function(e){var t=e.quote,r=c.a.useContext(y.a),a=r.bookstores,o=r.addQuote,s=Object(j.g)();return Object(C.jsxs)(x.a,{divider:!0,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start"},children:[Object(C.jsx)(v.a,{primary:t.quote}),Object(C.jsxs)("div",{children:[Object(C.jsx)(n.a,{"aria-label":"Rate",onClick:function(){s.push("/quote/".concat(t.quote_id,"/rate"))},children:Object(C.jsx)(w,{})}),Object(C.jsx)(n.a,{"aria-label":"Comment",onClick:function(){s.push("/quote/".concat(t.quote_id,"/comments"))},children:Object(C.jsx)(k,{})}),Object(C.jsx)(q.a,{elements:function(e,t){var r=[];return e.forEach((function(e){r.push({name:"A\xf1adir a ".concat(e.name),action:function(){return o({id:t.quote_id,quote:t.quote},e.id)}})})),0===r.length&&r.push({name:"Crear librer\xeda",action:function(){s.push("bookstores")}}),r}(a,t),children:Object(C.jsx)(n.a,{"aria-label":"Options",children:Object(C.jsx)(E,{})})})]})]})},z=function(e){var t,r=e.characterName,n=Object(h.a)(p.a),a=n.response,o=n.loading,s=n.error,i=n.sendRequest;return c.a.useEffect((function(){i({author:r})}),[r,i]),t=o?Object(C.jsx)(u.a,{}):a&&0!==a.length?s?Object(C.jsx)("h3",{children:"Ocurri\xf3 un error buscando las frases"}):a.map((function(e){return Object(C.jsx)(N,{quote:e},e.quote_id)})):Object(C.jsx)("h3",{children:"No se encontraron frases para este personaje"}),Object(C.jsx)(O.a,{style:{maxWidth:"350px",width:"100%"},children:t})},S=Object(g.a)((function(e){return{character:{listStyle:"none",margin:e.spacing(2,0),padding:e.spacing(2)},card:{width:250},media:{height:300,width:"100%",objectFit:"cover",overflow:"hidden"},title:{margin:e.spacing(0,0,2,0)},content:{maxHeight:300,overflow:"scroll"}}})),L=function(e){var t=e.character,r=S();return Object(C.jsx)("li",{className:r.character,children:Object(C.jsxs)(b.a,{className:r.card,children:[Object(C.jsx)("img",{src:t.img,alt:t.name,className:r.media}),Object(C.jsxs)(m.a,{className:r.content,children:[Object(C.jsx)("h4",{className:r.title,children:t.name}),Object(C.jsx)(z,{characterName:t.name})]})]})})},M=r(269),P=r.n(M);t.default=function(){var e=d(p.b,"5"),t=e.currentPage,r=e.goToNextPage,a=e.goToPrevPage,c=e.filteredItems;return e.loading?Object(C.jsx)(u.a,{}):1===t&&0===c.length?Object(C.jsx)("h4",{children:"No hay personajes para mostrar, posiblemente no tienes conexi\xf3n a internet"}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("ul",{className:P.a.list,children:c.map((function(e){return Object(C.jsx)(L,{character:e},e.char_id)}))}),Object(C.jsxs)("div",{className:P.a.actions,children:[Object(C.jsx)(n.a,{"aria-label":"Previous page",onClick:a,disabled:t<2,color:"secondary",children:Object(C.jsx)(s,{})}),Object(C.jsx)("span",{"arial-label":"Page number",children:t}),Object(C.jsx)(n.a,{"aria-label":"Next page",onClick:r,disabled:c.length<"5",color:"secondary",children:Object(C.jsx)(i,{})})]})]})}}}]);
//# sourceMappingURL=7.7de14340.chunk.js.map